<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Title - Portfolio</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="./JavaScript/Index.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Back Button Top -->
    <div class="text-start p-3">
      <a href="./Main.html" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Back to Portfolio
      </a>
    </div>
    <section class="py-5 bg-light text-center">
      <div class="container">
        <h1 class="section-title">
          Simplified Cement Mill Plant With PID Control
        </h1>
        <p class="text-muted w-75 mx-auto">
          The project has covered the material feeding process, the grinding
          process and the storage process. In the material feeding process, the
          operator has the ability to select which type of cement to grind. PID
          controllers have been used to maintain the feed rate at a specified
          setpoint for each raw material required. The feed rate depends on the
          type of cement selected. Watch the video below to see the functioning
          of this project. the code and SCADA is explained in details as you
          scroll down this page.
        </p>
      </div>
    </section>

    <!-- Video Preview Section -->
    <section class="py-5">
      <div class="container text-center">
        <h2 class="section-title">Project Preview Video</h2>
        <video id="projectVideo" class="rounded shadow" width="80%" controls>
          <source src="https://youtu.be/8QJCj1awp2o?si=KXeSLNHRfUIbaooO" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <div class="mt-3">
          <button class="btn btn-primary" onclick="openFullScreen()">
            View Fullscreen
          </button>
        </div>
      </div>
    </section>

    <!-- Scada Images -->
    <section class="py-5 bg-light">
      <div class="container">
        <h2 class="section-title text-center">SCADA PAGES BREAKDOWN</h2>
        <div class="row g-4">
          <!-- Main Page -->
          <div class="col-md-6 text-center">
            <img
              src="./Pictures/Mill_Home.png"
              alt="Code Snippet 1"
              class="img-fluid code-img"
            />
            <p class="mt-2 text-muted">
              This snippet shows the cement Mill page. In this page you can
              start and stop the system, and you can also select the operation
              mode, either manual or automatic mode. In this page, raw materials
              comming from material feeding page are fed into the grinding mill.
              The grinded materials from the mill are the sucked by the 1800kw
              fan through the bag filter. The fine materials are then stored in
              the silo, while the course materials are taken back into the mill
              for more grinding.
            </p>
          </div>
          <!-- Mill Feeding -->
          <div class="col-md-6 text-center">
            <img
              src="./Pictures/Mill_feeding.png"
              alt="Code Snippet 1"
              class="img-fluid code-img"
            />
            <p class="mt-2 text-muted">
              This snippet shows the Material Feeding page. All the raw material
              needed for cement production are measured in this page, the raw
              materials are: Clinker, Gypsum, Limestone and Pozzolana. In this
              page the operator can set the mill grinding rate, i.e 310 tph. The
              operator can also select the type of cement needed as the end
              product, and the raw materials setpoints will be populated with
              values depending on the cement type selected. For this plant, we
              have 4 diffrent types of cement that can be selected (In the
              snippet above KP_Silver is selected). A PID controller is used to
              maintain the actual feed rate of each raw material near the
              desired setpoint, as shown in the snippet above.
            </p>
          </div>
          <!-- Mill PID View -->
          <div class="col-md-6 text-center">
            <img
              src="./Pictures/Mill_PIDView.png"
              alt="Code Snippet 2"
              class="img-fluid code-img"
            />
            <p class="mt-2 text-muted">
              This snippet shows the PID behaviour for each raw material belt.
              The black line is the setpoint, the green line is the actual feed
              rate of the raw materials, and the red line is the speed of the
              motor. The green light(actual feed rate) tries to get to the black
              line(the setpoint) and remain at that point. The motor speed at
              first ramps up in order to get the actual feed rate to the
              setpoint, and then reduces to a value where it can maintain the
              actual feed at the setpoint.
            </p>
          </div>
          <!-- Mill Admin Page -->
          <div class="col-md-6 text-center">
            <img
              src="./Pictures/PaintMixer_Admin.png"
              alt="Code Snippet 3"
              class="img-fluid code-img"
            />
            <p class="mt-2 text-muted">
              This snippet shows the administration page. The page can only be
              accesed by the administrator. In this page, the administrator can
              add new users, edit existing users and delete existing users.The
              users have various functions and authorization in our project. The
              administrator can also view the system info, priview reports and
              print reports.
            </p>
          </div>
          <!-- Mill Alarms -->
          <div class="col-md-6 text-center">
            <img
              src="./Pictures/Mill_Alarms.png"
              alt="Code Snippet 4"
              class="img-fluid code-img"
            />
            <p class="mt-2 text-muted">
              This snippet shows the Alarms page. When any component in our
              project happens to fail, the error will be displayed in this page.
              For example if a certain belt has swayed and the belt sway switch
              has been activated, we will get the alarm in this page. We can
              then acknowledge the errors and reset them, or send technicians to
              check it physically in the field.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Code Images with Descriptions -->
    <section class="py-5 bg-light">
      <div class="container">
        <h2 class="section-title text-center">Code Breakdown</h2>

        <div class="card" role="main">
          <p>
            download all the Project Files below. Extract Files and
            open them on TIA Portal
          </p>

          <!-- DOWNLOAD SECTION -->
          <div class="download" aria-label="download area">
            <!-- Change href to the actual path of your .rar file -->
            <a
              id="downloadLink"
              class="btn btn-primary"
              href="./Code Files/Cement Mill_20250811_1101.rar"
              download="my-archive.rar"
              title="Download .rar"
            >
              ⤓ Download Code
            </a>
          </div>
        </div>

        <!-- Main OB and DB's -->
        <div class="main-container">
          <!-- Left side with image and description -->
          <div class="left-section">
            <h6 class="h6">Main OB and Level|Temperature Simulation</h6>
            <img
              src="./Pictures/Code_TIAPortal/Mill Code/PictureTree.png"
              alt="Description Image"
            />
            <p>
              The Image you see in the picture above is showing a folder
              containing The Main function(OB1) and a cyclic interrupt that runs
              every 100ms. The cyclic interrupt simulates the silo level and the
              mill temperature. The code for the two function are shared on the
              pdf files you see on the right side of this image.
            </p>
          </div>

          <!-- Right side with PDF links and descriptions -->
          <div class="right-section">
            <h6 class="codePdf">Code PDF Files</h6>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Cyclic interrupt_Level&Temp Simulation.pdf"
                target="_blank"
                >Cyclic interrupt_Level&Temp Simulation [OB32]-PDF</a
              >
              <p>
                This File handles the process of simulating the silo level and
                temperature inside the mill. When grinding process starts, the
                silo level starts to rise and the temperature of the mill also
                increases. This cyclic interrupt is activated every 100ms. Click
                on the pdf link above to view the code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Main.pdf"
                target="_blank"
                >Main [OB1]-PDF</a
              >
              <p>
                This file contains the code to start and stop the system. It
                also contains the code to select the operation mode(either
                manual or automatic mode). The functions that handles both modes
                are also called in this block. Click on the pdf link above to
                view the code.
              </p>
            </div>
          </div>
        </div>
        <!-- Variables Data Block -->
        <div class="main-container">
          <!-- Left side with image and description -->
          <div class="left-section">
            <h6 class="h6">Variables Data Blocks</h6>
            <img
              src="./Pictures/Code_TIAPortal/Mill Code/DataBlocks.png"
              alt="Description Image"
            />
            <p>
              The Image you see in the picture above is showing a folder
              containing all the data blocks used in this project. The data
              blocks have been used to store all the variables needed for this
              project.
            </p>
          </div>

          <!-- Right side with PDF links and descriptions -->
          <div class="right-section">
            <h6 class="codePdf">Code PDF Files</h6>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Data Blocks/Belts&BE(DB).pdf"
                target="_blank"
                >Belts&BE [DB9]-PDF</a
              >
              <p>
                This File contains all the conveyor belts motors and all bucket
                elevetors motors that were used in this project. Click on the
                pdf link above to view the code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Data Blocks/MaterialRationing(DB).pdf"
                target="_blank"
                >MaterialRationing [DB10]-PDF</a
              >
              <p>
                The file above has all the cement types that the operator can
                select. Each cement type has setpoints for each raw materials
                required. It also has a select button and an indication if the
                cement type is selected. Click on the pdf link above to view the
                code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Data Blocks/SystemStart&Motors(DB).pdf"
                target="_blank"
                >SystemStart&Motors [DB6]-PDF</a
              >
              <p>
                This File has the start and stop system variables, the mode
                selection variables, temperature variables, level variables, and
                all the motors and fans that do not drive conveyor belts. Click
                on the pdf link above to view the code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Data Blocks/WeighFeedersSetpoints(DB).pdf"
                target="_blank"
                >WeighFeedersSetpoints(DB) [DB1]-PDF</a
              >
              <p>
                This file contains all variables associated with every raw
                material belt. The 4 raw materials belts variables are stored in
                this file. Click on the pdf link above to view the code.
              </p>
            </div>
          </div>
        </div>

        <!-- Automatic Mode -->
        <div class="main-container">
          <!-- Left side with image and description -->
          <div class="left-section">
            <h6 class="h6">Automatic Mode</h6>
            <img
              src="./Pictures/Code_TIAPortal/Mill Code/AutoMode_Folder.png"
              alt="Description Image"
            />
            <p>
              The Picture above shows an image of the automatic mode folder. The
              folde contains all the code needed for the automatic mode. When
              the operator select automatic mode, the code in this folder is
              activated. The pdf files for all the files inside it are on the
              right side of this image.
            </p>
          </div>

          <!-- Right side with PDF links and descriptions -->
          <div class="right-section">
            <h6 class="codePdf">Code PDF Files</h6>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/AutomaticModeFunction_Block.pdf"
                target="_blank"
                >AutomaticModeFunction_Block [FC5]-PDF</a
              >
              <p>
                When the operator selects the automatic mode and starts the
                system, the code in this file is executed. The sequence of
                operation is explained in the file containing the code. Click on
                the pdf link above to view the code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Belt_Errors_AutoMode.pdf"
                target="_blank"
                >Belt_Errors_AutoMode[FC7]-PDF</a
              >
              <p>
                This file will be called by the function below
                it(ErrorHandlingAuto[FC8]). The code is used to simulate errors
                and reset them, the errors have been used in the alarms page on
                our SCADA. Click on the pdf link above to view the code.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/ErrorHandlingAuto.pdf"
                target="_blank"
                >ErrorHandlingAuto[FC8]-PDF</a
              >
              <p>
                This function calls the function with the
                name(Belt_Errors_AutoMode[FC7]]). The function has been called
                repeatedly for all the conveyor belts and bucket elevetors we
                have used in this project.
              </p>
            </div>
          </div>
        </div>
        <!-- Manual Mode -->
        <div class="main-container">
          <!-- Left side with image and description -->
          <div class="left-section">
            <h6 class="h6">Manual Mode</h6>
            <img
              src="./Pictures/Code_TIAPortal/Mill Code/ManualMode_Folder.png"
              alt="Description Image"
            />
            <p>
              The Picture above shows an image of the manual mode folder. The
              folder contains all the code needed for the manual mode. When the
              operator select manual mode, the code in this folder is activated.
              The pdf files for all the files inside it are on the right side of
              this image.
            </p>
          </div>

          <!-- Right side with PDF links and descriptions -->
          <div class="right-section">
            <h6 class="codePdf">Code PDF Files</h6>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Belts&BE's Control.pdf"
                target="_blank"
                >Belts&BE's Control [FC3]-PDF</a
              >
              <p>
                This File contains the code to start and stop a motor. The file
                also contains the code to set and reset errors. The function
                will be called several times by this file
                (ManualModeFunction_Block[FC1]). It will be called for each
                conveyor belt and each bucket that requires the functionality
                provided by the code in this file. Click on the pdf link above
                to view the code. The file is a shared function.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/FowardRevers_Belts.pdf"
                target="_blank"
                >FowardRevers_Belts [FC11]-PDF</a
              >
              <p>
                This File contains the code to drive a motor in either reverse
                or foward mode and also stop it. The file also contains the code
                to set and reset errors. The function will be called several
                times by this file (ManualModeFunction_Block[FC1]). It will be
                called for each conveyor belt that needs to be operated in both
                foward or reverse mode. Click on the pdf link above to view the
                code. The file is a shared function.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/ManualModeFunction_Block.pdf"
                target="_blank"
                >ManualModeFunction_Block[FC1]-PDF</a
              >
              <p>
                When the operator selects the Manual mode and starts the system,
                the code in this file is executed. The sequence of operation is
                explained in the file containing the code. Click on the pdf link
                above to view the code. All the functions in the manual_Mode
                folder are called in this file.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/MotorDrives Control.pdf"
                target="_blank"
                >MotorDrives Control[FC4]-PDF.</a
              >
              <p>
                This File contains the code to start and stop a motor. The
                function will be called several times by this file
                (ManualModeFunction_Block[FC1]). It will be called for each
                motor that just requires an ON/OFF functionality.Click on the
                pdf link above to view the code. The file is a shared function.
              </p>
            </div>
          </div>
        </div>
        <!-- PID SiMULATION -->
        <div class="main-container">
          <!-- Left side with image and description -->
          <div class="left-section">
            <h6 class="h6">PID's Simulations(Material WeighFeeders)</h6>
            <img
              src="./Pictures/Code_TIAPortal/Mill Code/WeighFeeders_Folder.png"
              alt="Description Image"
            />
            <p>
              The Picture above shows an image of the weigh feeders PID
              simulation folder. This folder handles all the functions that help
              us simulate the PID'S for all raw materials belts. The pdf files
              for all the files inside it are on the right side of this image.
            </p>
          </div>

          <!-- Right side with PDF links and descriptions -->
          <div class="right-section">
            <h6 class="codePdf">Code PDF Files</h6>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Cemnt_TypesSelection [OB33].pdf"
                target="_blank"
                >Cement_TypesSelection [OB33]-PDF</a
              >
              <p>
                This is a cyclic interrupt that runs every 0.5ms. The purpose of
                this block is to check the tye of cement selected at any time
                and compute the setpoints for each raw material neede. This
                happens every 0.5ms to ensure it detects any change in selection
                immediately . View the pdf file by clicking the link above
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/LoadCell_Simulation(0.1s) [OB31].pdf"
                target="_blank"
                >LoadCell_Simulation(0.1s) [OB31]-PDF</a
              >
              <p>
                This is a cyclic interrupt that runs every 1ms. It calls the
                function with the name (LoadCell_Simulation(FC) [FC2]). The
                purpose is to compute the loadcell reading every 1ms, This helps
                us in simulating the PID by giving us consistent loadcell
                reading. View the pdf file by clicking the link above
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/PIDFunctions [OB30].pdf"
                target="_blank"
                >PIDFunctions [OB30]-PDF</a
              >
              <p>
                This Block is a cyclic interrupt block, that runs every 1ms. The
                Block calls all the PID compact Blocks. This is the block where
                tuning and configuration of PIDS are done. Calculated Setpoints
                and loadcell readings are fed into the PID blocks. View the pdf
                file by clicking the link above.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/LoadCell_Simulation(FC) [FC2].pdf"
                target="_blank"
                >LoadCell_Simulation(FC) [FC2]-PDF</a
              >
              <p>
                This function handles the loadcell reading simulation
                process.The function is called by(LoadCell_Simulation(0.1s)
                [OB31]). For us to impliment the PID without a real world plc we
                needed to simulate the loadcell reading, and this function helps
                us do that. The function also limits the loadcell reading to 350
                as the maximum and zero as the minimum. View the pdf file by
                clicking the link above.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/SelectionIndication [FC10].pdf"
                target="_blank"
                >SelectionIndication [FC10]-PDF</a
              >
              <p>
                This function handles the cement type selection process.The
                function is called by(Cement_TypesSelection [OB33]). When a
                cement type is selected by the operator, this is the function
                that handles the selection. It uses an SR Flip-flop to set the
                selection, and the flip-flop is reset if another cement type is
                selected.View the pdf file by clicking the link above.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Setpoint Control [FC6].pdf"
                target="_blank"
                >Setpoint Control [FC6]-PDF</a
              >
              <p>
                This function handles the calculation of the setpoints for each
                raw materials in (tph).The function is called
                by(Cement_TypesSelection [OB33]). The function takes in the
                setpoint in percentage and makes the calculation to determine
                the value in tph.View the pdf file by clicking the link above.
              </p>
            </div>
            <div class="pdf-item">
              <a
                href="./Pictures/Code_TIAPortal/Mill Code/Setpoint_MoveFunction [FC9].pdf"
                target="_blank"
                >Setpoint_MoveFunction [FC9]-PDF</a
              >
              <p>
                This function handles the movement of setpoints when a cement
                type is selected. According to the type of cement selected, the
                setpoints for that cement are moved from the MaterialRationing
                [DB10] data block to WeighFeeders[DB1] data block. The function
                is called by(Cement_TypesSelection [OB33]).View the pdf file by
                clicking the link above.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Back Button Bottom -->
    <div class="text-center p-3">
      <a href="./Main.html" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Back to Portfolio
      </a>
    </div>

    <!-- Footer -->
    <footer>
      <p>© 2025 Gideon Rono. All rights reserved.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

